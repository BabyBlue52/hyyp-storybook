import{b as p,f as x,s as Z,w as ee,o as te,j as g,g as ae,x as k,A as n,K as I,G as R,D as M,O as ne,E as le,l as oe,m as re}from"./vue.esm-bundler-d4c6f595.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";import{m as se,a as ue,u as ce,V as z,f as de,b as fe,c as ve}from"./VInput-1f408e9e.js";import{f as me}from"./forwardRefs-7e8b1c6b.js";import{u as xe}from"./locale-44f1c6d0.js";import{i as ge}from"./index-43090282.js";import{b as he,l as ye,u as _e,e as we,q as pe,s as Ve,z as Fe}from"./theme-47119a85.js";const Pe=he({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...se(),...ue()},"VTextarea"),Ce=ye()({name:"VTextarea",directives:{Intersect:ge},inheritAttrs:!1,props:Pe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,S){let{attrs:f,emit:V,slots:r}=S;const l=xe(e,"modelValue"),{isFocused:v,focus:E,blur:G}=ce(e),U=p(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),$=p(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function O(t,o){var a,i;!e.autofocus||!t||(i=(a=o[0].target)==null?void 0:a.focus)==null||i.call(a)}const T=x(),h=x(),A=Z(""),y=x(),j=p(()=>e.persistentPlaceholder||v.value||e.active);function F(){var t;y.value!==document.activeElement&&((t=y.value)==null||t.focus()),v.value||E()}function Y(t){F(),V("click:control",t)}function q(t){V("mousedown:control",t)}function K(t){t.stopPropagation(),F(),k(()=>{l.value="",Ve(e["onClick:clear"],t)})}function L(t){var a;const o=t.target;if(l.value=o.value,(a=e.modelModifiers)!=null&&a.trim){const i=[o.selectionStart,o.selectionEnd];k(()=>{o.selectionStart=i[0],o.selectionEnd=i[1]})}}const c=x(),_=x(+e.rows),P=p(()=>["plain","underlined"].includes(e.variant));ee(()=>{e.autoGrow||(_.value=+e.rows)});function d(){e.autoGrow&&k(()=>{if(!c.value||!h.value)return;const t=getComputedStyle(c.value),o=getComputedStyle(h.value.$el),a=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),i=c.value.scrollHeight,w=parseFloat(t.lineHeight),C=Math.max(parseFloat(e.rows)*w+a,parseFloat(o.getPropertyValue("--v-input-control-height"))),b=parseFloat(e.maxRows)*w+a||1/0,u=Fe(i??0,C,b);_.value=Math.floor((u-a)/w),A.value=we(u)})}te(d),g(l,d),g(()=>e.rows,d),g(()=>e.maxRows,d),g(()=>e.density,d);let s;return g(c,t=>{t?(s=new ResizeObserver(d),s.observe(c.value)):s==null||s.disconnect()}),ae(()=>{s==null||s.disconnect()}),_e(()=>{const t=!!(r.counter||e.counter||e.counterValue),o=!!(t||r.details),[a,i]=pe(f),[{modelValue:w,...C}]=z.filterProps(e),[b]=de(e);return n(z,I({ref:T,modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":P.value},e.class],style:e.style},a,C,{centerAffix:_.value===1&&!P.value,focused:v.value}),{...r,default:u=>{let{isDisabled:m,isDirty:B,isReadonly:J,isValid:Q}=u;return n(fe,I({ref:h,style:{"--v-textarea-control-height":A.value},onClick:Y,onMousedown:q,"onClick:clear":K,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},b,{active:j.value||B.value,centerAffix:_.value===1&&!P.value,dirty:B.value||e.dirty,disabled:m.value,focused:v.value,error:Q.value===!1}),{...r,default:W=>{let{props:{class:N,...H}}=W;return n(R,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),M(n("textarea",I({ref:y,class:N,value:l.value,onInput:L,autofocus:e.autofocus,readonly:J.value,disabled:m.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:F,onBlur:G},H,i),null),[[ne("intersect"),{handler:O},null,{once:!0}]]),e.autoGrow&&M(n("textarea",{class:[N,"v-textarea__sizer"],id:`${H.id}-sizer`,"onUpdate:modelValue":X=>l.value=X,ref:c,readonly:!0,"aria-hidden":"true"},null),[[le,l.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?u=>{var m;return n(R,null,[(m=r.details)==null?void 0:m.call(r,u),t&&n(R,null,[n("span",null,null),n(ve,{active:e.persistentCounter||v.value,value:U.value,max:$.value},r.counter)])])}:void 0})}),me({},T,h,y)}}),D={name:"TextArea",props:{label:String,hasIcon:Boolean,placeholder:String},data(){return{label:"Default Label"}}},be={class:"d-flex column",style:{margin:"0 10px"}};function ke(e,S,f,V,r,l){return oe(),re("div",be,[n(Ce,{variant:"outlined",placeholder:f.placeholder},null,8,["placeholder"])])}const He=ie(D,[["render",ke],["__scopeId","data-v-d3328e46"]]);D.__docgenInfo={displayName:"TextArea",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"}},{name:"hasIcon",type:{name:"boolean"}},{name:"placeholder",type:{name:"string"}}],sourceFiles:["/Users/chris/Desktop/HYYP/hyyp-storybook/src/components/TextArea.vue"]};export{He as T};
//# sourceMappingURL=TextArea-421daaae.js.map
